{"version":3,"sources":["../node_modules/@material-ui/icons/AllInclusive.js","views/SubmitProposal/SubmitProposal.js","views/SubmitProposal/index.js","../node_modules/@material-ui/icons/Add.js","views/Home/Home.js","utils/useInterval.js","views/Home/index.js","components/Header/Header.js","components/Header/index.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","_react","_default","createElement","d","BN","useStyles","makeStyles","theme","root","marginTop","spacing","marginBottom","paper","breakpoints","up","maxWidth","minWidth","title","textField","margin","marginRight","subscribeButton","fieldGroup","display","flexGrow","wrapper","position","down","textAlign","hiddenImage","image","statusMsg","marginLeft","button","width","SubmitProposal","props","className","useState","status","setStatus","setImage","classes","router","useRouter","web3Connect","useWeb3Connect","useEffect","loaded","connected","history","push","useForm","register","handleSubmit","onSubmit","data","a","console","log","body","uploadJson","hash","contracts","dao","methods","triggerSubmitProposal","allowance","daiAllowance","balance","daiBalance","Header","Typography","variant","TextField","fullWidth","label","name","inputRef","required","clsx","multiline","rows","type","onChange","preview","document","getElementById","file","querySelector","files","reader","FileReader","addEventListener","src","result","readAsDataURL","id","height","alt","style","Button","color","disabled","onClick","dai","triggerDaiApprove","execute","component","divContainer","size","startIcon","Home","interest","setInterest","callback","delay","savedCallback","useRef","current","setInterval","clearInterval","useInterval","getInterest","fontSize","fontWeight","triggerConnect","connect","Fragment","gutterBottom","cursor"],"mappings":"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","file":"static/js/7.03f00d73.chunk.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M18.6 6.62c-1.44 0-2.8.56-3.77 1.53L12 10.66 10.48 12h.01L7.8 14.39c-.64.64-1.49.99-2.4.99-1.87 0-3.39-1.51-3.39-3.38S3.53 8.62 5.4 8.62c.91 0 1.76.35 2.44 1.03l1.13 1 1.51-1.34L9.22 8.2C8.2 7.18 6.84 6.62 5.4 6.62 2.42 6.62 0 9.04 0 12s2.42 5.38 5.4 5.38c1.44 0 2.8-.56 3.77-1.53l2.83-2.5.01.01L13.52 12h-.01l2.69-2.39c.64-.64 1.49-.99 2.4-.99 1.87 0 3.39 1.51 3.39 3.38s-1.52 3.38-3.39 3.38c-.9 0-1.76-.35-2.44-1.03l-1.14-1.01-1.51 1.34 1.27 1.12c1.02 1.01 2.37 1.57 3.82 1.57 2.98 0 5.4-2.41 5.4-5.38s-2.42-5.37-5.4-5.37z\"\n}), 'AllInclusive');\n\nexports.default = _default;","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/styles';\nimport { Typography, Button } from '@material-ui/core';\nimport Box from '@material-ui/core/Box';\nimport Paper from '@material-ui/core/Paper';\nimport Container from '@material-ui/core/Container';\nimport TextField from '@material-ui/core/TextField';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { useForm } from 'react-hook-form';\nimport useRouter from '../../utils/useRouter';\nimport { uploadJson, getJson } from '../../modules/pinata';\nimport { Page, WalletProfile } from '../../components';\nimport Header from '../../components/Header';\nimport ImageUploader from 'react-images-upload';\nimport useWeb3Connect from '../../utils/useWeb3Connect';\nimport HowToVoteIcon from '@material-ui/icons/HowToVote';\nconst BN = require('bn.js');\n\nconst STAKING_AMOUNT = 50;\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    // backgroundColor: theme.palette.white\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n  paper: {\n    [theme.breakpoints.up('md')]: {\n      maxWidth: '75%',\n      minWidth: 180,\n    },\n    width: '100%',\n    padding: theme.spacing(3),\n  },\n  title: {\n    // marginBottom: theme.spacing(2),\n  },\n  textField: {\n    margin: theme.spacing(1, 0),\n    [theme.breakpoints.up('sm')]: {\n      marginRight: theme.spacing(2),\n    },\n\n    // fontWeight: \"0.8em\"\n    // minWidth: 150\n  },\n  subscribeButton: {\n    // padding: theme.spacing(0, 1)\n  },\n  fieldGroup: {\n    [theme.breakpoints.up('sm')]: {\n      display: 'flex',\n      marginTop: theme.spacing(1),\n    },\n\n    alignItems: 'center',\n  },\n  flexGrow: {\n    flexGrow: 1,\n  },\n  wrapper: {\n    position: 'relative',\n    [theme.breakpoints.down('xs')]: {\n      textAlign: 'center',\n      marginTop: theme.spacing(2),\n    },\n    marginTop: theme.spacing(2),\n  },\n  hiddenImage: {\n    display: 'none',\n  },\n  image: {\n    display: 'block',\n  },\n  statusMsg: {\n    marginLeft: 16,\n  },\n  button: {\n    width: 190,\n  },\n}));\n\nconst SubmitProposal = props => {\n  const { className, ...rest } = props;\n  const [status, setStatus] = useState('DRAFT');\n  const [image, setImage] = useState(false);\n  const classes = useStyles();\n  const router = useRouter();\n  const web3Connect = useWeb3Connect();\n\n  useEffect(() => {\n    if (web3Connect.loaded && !web3Connect.connected) {\n      router.history.push('/');\n    }\n  }, [web3Connect]);\n\n  const { register, handleSubmit /* , watch */ /* , errors  */ } = useForm();\n\n  const onSubmit = async data => {\n    setStatus('IPFS_UPLOAD');\n    // const { title, description } = data;\n    console.log(data);\n\n    let body = { ...data, image };\n\n    let hash = await uploadJson(data.title, body);\n    setStatus('SUBMITTING_BLOCKCHAIN');\n\n    // console.log({ hash });\n    // let json = await getJson(hash);\n    // console.log({ json });\n    await web3Connect.contracts.dao.methods.triggerSubmitProposal(hash);\n\n    setStatus('SUBMITTED');\n  };\n\n  const previewFile = () => {\n    const preview = document.getElementById('logoImg');\n    const file = document.querySelector('input[type=file]').files[0];\n    const reader = new FileReader();\n\n    reader.addEventListener(\n      'load',\n      function() {\n        // convert image file to base64 string\n        preview.src = reader.result;\n        setImage(reader.result);\n      },\n      false\n    );\n\n    if (file) {\n      reader.readAsDataURL(file);\n    }\n  };\n  console.log({\n    status,\n    allowance: web3Connect.daiAllowance,\n    balance: web3Connect.daiBalance,\n  });\n  return (\n    <Page className={classes.root} title=\"Whoop Together | Submit Proposal\">\n      <Header />\n      <Typography variant=\"h5\" className={classes.title}>\n        Submit Proposal\n      </Typography>\n      <form onSubmit={handleSubmit(onSubmit)}>\n        {/* <Box className={classes.fieldGroup}> */}\n        <TextField\n          fullWidth\n          label=\"Title\"\n          name=\"title\"\n          variant=\"outlined\"\n          inputRef={register({ required: true })}\n          className={clsx(classes.flexGrow, classes.textField)}\n          required\n        />\n        <TextField\n          fullWidth\n          label=\"Description\"\n          name=\"description\"\n          variant=\"outlined\"\n          inputRef={register({ required: true })}\n          className={clsx(classes.flexGrow, classes.textField)}\n          multiline\n          rows={5}\n          required\n        />\n        <TextField\n          fullWidth\n          label=\"Website\"\n          name=\"website\"\n          variant=\"outlined\"\n          inputRef={register({ required: true })}\n          className={clsx(classes.flexGrow, classes.textField)}\n          required\n        />\n        <TextField\n          fullWidth\n          label=\"Team\"\n          name=\"team\"\n          variant=\"outlined\"\n          inputRef={register}\n          className={clsx(classes.flexGrow, classes.textField)}\n          multiline\n          rows={3}\n        />\n        {/* <ImageUploader\n          withIcon={true}\n          buttonText=\"Project Logo\"\n          onChange={e => {\n            setImages(e);\n          }}\n          imgExtension={['.jpg', '.gif', '.png']}\n          maxFileSize={5242880}\n          withPreview={true}\n          // fileContainerStyle={{ boxShadow: 0 }}\n        /> */}\n        <Typography variant=\"caption\" display=\"block\">\n          Logo\n        </Typography>\n        <input type=\"file\" onChange={previewFile} />\n        <img\n          id=\"logoImg\"\n          src=\"\"\n          className={image ? classes.image : classes.hiddenImage}\n          height=\"200\"\n          alt=\"Image preview...\"\n        />\n\n        <Typography variant=\"body1\" style={{ marginTop: 16 }}>\n          In order to submit a proposol you need to stake {STAKING_AMOUNT} DAI.\n        </Typography>\n        <div className={classes.wrapper}>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.button}\n            // type=\"submit\"\n            disabled={web3Connect.daiAllowance > 0} // TODO: update to 50Dai\n            onClick={async () => {\n              let execute = async () => {\n                setStatus('APPROVING_DAI');\n                await web3Connect.contracts.dai.methods.triggerDaiApprove(\n                  new BN(STAKING_AMOUNT)\n                );\n                setStatus('DAI_APPROVED');\n              };\n              execute();\n            }}\n          >\n            1. Allow 50 DAI\n          </Button>\n          {status === 'APPROVING_DAI' && (\n            <Typography\n              variant=\"body1\"\n              component=\"span\"\n              className={classes.statusMsg}\n            >\n              Allowing transferring of 50 DAI...\n            </Typography>\n          )}\n          {(status === 'DAI_APPROVED' || web3Connect.daiAllowance > 0) && (\n            <Typography\n              variant=\"body2\"\n              component=\"span\"\n              className={classes.statusMsg}\n            >\n              Allowance of 50 DAI complete!\n            </Typography>\n          )}\n        </div>\n        <div className={classes.wrapper}>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.button}\n            type=\"submit\"\n            disabled={\n              (status !== 'DRAFT' && status !== 'DAI_APPROVED') ||\n              web3Connect.daiAllowance == 0 ||\n              web3Connect.daiBalance < STAKING_AMOUNT\n            }\n          >\n            2. Submit Proposal\n          </Button>\n          {web3Connect.daiBalance < STAKING_AMOUNT && (\n            <Typography\n              variant=\"body2\"\n              component=\"span\"\n              className={classes.statusMsg}\n              style={{ color: '#FF9494' }}\n            >\n              You don't have enough DAI on your wallet\n            </Typography>\n          )}\n          {status === 'IPFS_UPLOAD' && (\n            <Typography\n              variant=\"body2\"\n              component=\"span\"\n              className={classes.statusMsg}\n            >\n              Uploading proposal to IPFS...\n            </Typography>\n          )}\n          {status === 'SUBMITTING_BLOCKCHAIN' && (\n            <Typography\n              variant=\"body2\"\n              component=\"span\"\n              className={classes.statusMsg}\n            >\n              Submitting proposal to the DAO...\n            </Typography>\n          )}\n          {status === 'SUBMITTED' && (\n            <Typography\n              variant=\"body2\"\n              component=\"span\"\n              className={classes.statusMsg}\n            >\n              Proposal submitted to the DAO successfully!\n            </Typography>\n          )}\n        </div>\n        {status === 'SUBMITTED' && (\n          <div\n            className={classes.divContainer}\n            style={{\n              marginTop: 24,\n              marginBottom: 24,\n              textAlign: 'center',\n            }}\n          >\n            <Button\n              // variant=\"contained\"\n              color=\"primary\"\n              size=\"large\"\n              className={classes.button}\n              startIcon={<HowToVoteIcon />}\n              onClick={() => {\n                router.history.push('/proposals');\n              }}\n            >\n              Vote{' '}\n            </Button>\n          </div>\n        )}\n        {/* </Box> */}\n      </form>\n    </Page>\n  );\n};\n\nSubmitProposal.propTypes = {\n  className: PropTypes.string,\n};\n\nexport default SubmitProposal;\n","export { default } from './SubmitProposal';\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n}), 'Add');\n\nexports.default = _default;","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport useWeb3Connect from '../../utils/useWeb3Connect';\nimport { Page, WalletProfile } from '../../components';\n// import {\n//   Intro,\n//   Newsletter,\n//   PadeleeRegistration,\n//   // Team,\n//   Partners,\n//   Footer,\n// } from './components';\nimport AddIcon from '@material-ui/icons/Add';\nimport { Typography, Button } from '@material-ui/core';\nimport SubmitProposal from '../SubmitProposal';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport useRouter from '../../utils/useRouter';\nimport HowToVoteIcon from '@material-ui/icons/HowToVote';\nimport useInterval from '../../utils/useInterval';\n// function DonateIcon(props) {\n//   return (\n//     <SvgIcon {...props}>\n//       <path d=\"m459.617188 297.273438-94.273438 32.410156c.417969-2.320313.652344-4.6875.652344-7.089844 0-22.054688-17.941406-40-40-40h-64.757813c-1.71875 0-3.414062-.441406-4.910156-1.285156l-52.832031-29.714844c-10.445313-5.886719-22.316406-9-34.328125-9h-70.890625c-4.125-11.636719-15.242188-19.996094-28.277344-19.996094h-60c-5.523438 0-10 4.476563-10 10v179.996094c0 5.523438 4.476562 10 10 10h60c12.738281 0 23.660156-8.003906 27.996094-19.246094 11.320312 1.40625 24.417968 4.753906 32.648437 9.691406l52.296875 31.378907c19.8125 11.890625 42.496094 18.175781 65.605469 18.175781 18.3125 0 36.054687-3.84375 52.738281-11.421875l186.644532-82.183594c20.671874-8.386719 30.878906-33.1875 19.0625-55.046875-8.691407-16.085937-29.046876-23.242187-47.375-16.667968zm-379.617188 95.367187c-.023438 5.492187-4.503906 9.953125-10 9.953125h-50v-159.996094h50c5.511719 0 10 4.484375 10 10zm400.332031-42.148437c-.105469.039062-.210937.085937-.316406.128906 0 0-186.921875 82.304687-186.957031 82.320312-14.082032 6.40625-29.058594 9.652344-44.511719 9.652344-19.484375 0-38.609375-5.296875-55.3125-15.324219l-52.300781-31.378906c-11.195313-6.714844-27.226563-10.808594-40.933594-12.449219v-120.84375h69.167969c8.578125 0 17.054687 2.21875 24.519531 6.425782l52.832031 29.714843c4.476563 2.523438 9.570313 3.859375 14.71875 3.859375h64.757813c11.027344 0 20 8.96875 20 20 0 10.988282-8.976563 20-20 20h-101.65625c-5.523438 0-10 4.476563-10 10 0 5.519532 4.476562 9.996094 10 9.996094h101.65625c6.558594 0 13.015625-1.628906 18.746094-4.683594 0 0 121.542968-41.78125 121.589843-41.796875 8.960938-3.234375 19.09375-.015625 23.066407 7.335938 5.957031 11.019531 1.03125 23-9.066407 27.042969zm0 0\" />\n//       <path d=\"m291.246094 243.054688c1.882812 1.628906 4.214844 2.441406 6.550781 2.441406s4.671875-.8125 6.550781-2.441406c81.589844-70.710938 132.058594-106.496094 132.058594-162.105469 0-43.992188-31.144531-80.449219-74.898438-80.449219-28.734374 0-50.738281 16.5625-64.910156 41.417969-14.140625-24.800781-36.121094-41.417969-64.898437-41.417969-33.496094 0-61.5 21.707031-71.34375 55.296875-1.554688 5.300781 1.484375 10.855469 6.785156 12.410156 5.300781 1.554688 10.855469-1.484375 12.40625-6.785156 7.285156-24.859375 27.753906-40.921875 52.152344-40.921875 28.527343 0 48.539062 25.332031 55.261719 48.917969 1.199218 4.332031 5.144531 7.332031 9.636718 7.332031 4.496094 0 8.4375-3 9.636719-7.332031.136719-.488281 14.027344-48.917969 55.273437-48.917969 31.296876 0 54.898438 25.984375 54.898438 60.449219 0 44.484375-43.484375 76.554687-118.617188 141.335937-45.777343-39.3125-82.140624-66.984375-102.808593-94.054687-3.351563-4.390625-9.625-5.234375-14.015625-1.882813-4.390625 3.351563-5.230469 9.625-1.882813 14.019532 23.296875 30.511718 62.625 59.746093 112.164063 102.6875zm0 0\" />\n//       <path d=\"m169 88.597656c-5.519531 0-10 4.480469-10 10 0 5.519532 4.480469 10 10 10s10-4.480468 10-10c0-5.519531-4.480469-10-10-10zm0 0\" />\n//     </SvgIcon>\n//   );\n// }\n\nimport DonateIcon from '@material-ui/icons/AllInclusive';\nimport Header from '../../components/Header';\n\nconst useStyles = makeStyles(theme => ({\n  button: {\n    margin: 32,\n    width: 220,\n  },\n  // divContainer: {\n  //   [theme.breakpoints.up('sm')]: {\n  //     backgroundSize: '39%',\n  //   },\n  // }\n}));\n\nconst Home = () => {\n  const classes = useStyles();\n  const web3Connect = useWeb3Connect();\n  let connected = web3Connect.connected;\n  const router = useRouter();\n  const [interest, setInterest] = useState(0);\n\n  useInterval(async () => {\n    if (web3Connect) {\n      let interest = await web3Connect.contracts.dao.methods.getInterest();\n      console.log({ interest });\n      setInterest(interest);\n    }\n  }, 2000);\n\n  return (\n    <>\n      <Header />\n      <Typography variant=\"body1\" style={{ fontSize: 24 }}>\n        Every two weeks, the preferred project of the community will receive{' '}\n        <span style={{ fontSize: 28, fontWeight: 'bold', color: '#A362A5' }}>\n          ${interest}!\n        </span>\n      </Typography>\n      {/* {!connected && ( */}\n\n      <div\n        className={classes.divContainer}\n        style={{\n          marginTop: 32,\n          marginBottom: 32,\n          textAlign: 'center',\n        }}\n      >\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          size=\"large\"\n          className={classes.button}\n          startIcon={<AddIcon />}\n          onClick={() => {\n            if (connected) {\n              router.history.push('/submit-proposal');\n            } else {\n              const connect = async () => {\n                await web3Connect.triggerConnect();\n                debugger;\n                router.history.push('/submit-proposal');\n              };\n              connect();\n            }\n          }}\n        >\n          Submit Proposal\n        </Button>\n        <Button\n          variant=\"contained\"\n          color=\"secondary\"\n          size=\"large\"\n          className={classes.button}\n          startIcon={<DonateIcon />}\n          onClick={() => {\n            router.history.push('/deposit');\n          }}\n        >\n          Join Pool\n        </Button>\n      </div>\n      <div\n        className={classes.divContainer}\n        style={{\n          marginTop: 32,\n          marginBottom: 32,\n          textAlign: 'center',\n        }}\n      >\n        <Button\n          // variant=\"contained\"\n          color=\"primary\"\n          size=\"large\"\n          className={classes.button}\n          startIcon={<HowToVoteIcon />}\n          onClick={() => {\n            if (connected) {\n              router.history.push('/proposals');\n            } else {\n              const connect = async () => {\n                await web3Connect.triggerConnect();\n                router.history.push('/submit-proposal');\n              };\n              connect();\n            }\n          }}\n        >\n          Vote\n        </Button>\n      </div>\n      {/* )} */}\n\n      {/* {connected && (\n        <div\n          className={classes.divContainer}\n          style={{\n            marginTop: 32,\n            marginBottom: 32,\n            textAlign: 'center',\n          }}\n        >\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"large\"\n            className={classes.button}\n            startIcon={<AddIcon />}\n            onClick={() => {\n              if (connected) {\n                router.history.push('/submit-proposal');\n              } else {\n                const connect = async () => {\n                  await web3Connect.triggerConnect();\n                  debugger;\n                  router.history.push('/submit-proposal');\n                };\n                connect();\n              }\n            }}\n          >\n            Submit Proposal\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            size=\"large\"\n            className={classes.button}\n            startIcon={<DonateIcon />}\n            onClick={() => {\n              if (connected) {\n                router.history.push('/deposit');\n              } else {\n                const connect = async () => {\n                  await web3Connect.triggerConnect();\n                  debugger;\n                  router.history.push('/deposit');\n                };\n                connect();\n              }\n            }}\n          >\n            Fund Projects\n          </Button>\n        </div>\n      )} */}\n      {/* <WalletProfile /> */}\n      {/* <SubmitProposal /> */}\n    </>\n  );\n};\n\nexport default Home;\n","import React, { useState, useEffect, useRef } from 'react';\n\nexport default function useInterval(callback, delay) {\n  const savedCallback = useRef();\n\n  // Remember the latest callback.\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  // Set up the interval.\n  useEffect(() => {\n    function tick() {\n      savedCallback.current();\n    }\n    if (delay !== null) {\n      let id = setInterval(tick, delay);\n      return () => clearInterval(id);\n    }\n  }, [delay]);\n}\n","export { default } from './Home';\n","/* eslint-disable no-undef */\nimport React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport useRouter from '../../utils/useRouter';\n\n// import useRouter from 'utils/useRouter';\nconst Header = props => {\n  const router = useRouter();\n  return (\n    <React.Fragment>\n      <div style={{ marginBottom: 16 }}>\n        <Typography\n          gutterBottom\n          variant=\"h4\"\n          style={{ marginTop: 16, cursor: 'pointer' }}\n          onClick={() => {\n            router.history.push('/');\n          }}\n        >\n          WhoopTogether\n        </Typography>\n\n        <Typography variant=\"body1\" style={{ marginTop: 16 }}>\n          Deposit your DAI. Let your idle interest support community projects.\n          Vote DAO style on twitter for your favourite project every 2 weeks.\n          Interest from the pool is sent to the chosen community project for 2\n          weeks if selected by the DAO. Withdraw your original DAI at anytime.\n        </Typography>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default Header;\n","export { default } from './Header';\n"],"sourceRoot":""}