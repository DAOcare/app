(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[7,9],{1053:function(e,t,a){"use strict";var n=a(134);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),o=(0,n(a(413)).default)(r.default.createElement("path",{d:"M18.6 6.62c-1.44 0-2.8.56-3.77 1.53L12 10.66 10.48 12h.01L7.8 14.39c-.64.64-1.49.99-2.4.99-1.87 0-3.39-1.51-3.39-3.38S3.53 8.62 5.4 8.62c.91 0 1.76.35 2.44 1.03l1.13 1 1.51-1.34L9.22 8.2C8.2 7.18 6.84 6.62 5.4 6.62 2.42 6.62 0 9.04 0 12s2.42 5.38 5.4 5.38c1.44 0 2.8-.56 3.77-1.53l2.83-2.5.01.01L13.52 12h-.01l2.69-2.39c.64-.64 1.49-.99 2.4-.99 1.87 0 3.39 1.51 3.39 3.38s-1.52 3.38-3.39 3.38c-.9 0-1.76-.35-2.44-1.03l-1.14-1.01-1.51 1.34 1.27 1.12c1.02 1.01 2.37 1.57 3.82 1.57 2.98 0 5.4-2.41 5.4-5.38s-2.42-5.37-5.4-5.37z"}),"AllInclusive");t.default=o},1498:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),o=a(61),c=a(13),i=a(16),s=a(5),l=a(9),u=a(0),m=a.n(u),p=a(12),d=a(830),f=a(2487),b=a(2498),g=a(2488),v=a(992),h=a(107),y=a(201),E=a(91),O=a(902),w=(a(993),a(195)),j=a(960),A=a.n(j),I=a(194),N=Object(d.a)((function(e){var t,a,n;return{root:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},paper:(t={},Object(l.a)(t,e.breakpoints.up("md"),{maxWidth:"75%",minWidth:180}),Object(l.a)(t,"width","100%"),Object(l.a)(t,"padding",e.spacing(3)),t),title:{},textField:Object(l.a)({margin:e.spacing(1,0)},e.breakpoints.up("sm"),{marginRight:e.spacing(2)}),subscribeButton:{},fieldGroup:(a={},Object(l.a)(a,e.breakpoints.up("sm"),{display:"flex",marginTop:e.spacing(1)}),Object(l.a)(a,"alignItems","center"),a),flexGrow:{flexGrow:1},wrapper:(n={position:"relative"},Object(l.a)(n,e.breakpoints.down("xs"),{textAlign:"center",marginTop:e.spacing(2)}),Object(l.a)(n,"marginTop",e.spacing(2)),n),hiddenImage:{display:"none"},image:{display:"block"},statusMsg:{marginLeft:16},button:{width:190}}})),x=function(e){e.className,Object(s.a)(e,["className"]);var t=Object(u.useState)("DRAFT"),a=Object(i.a)(t,2),n=a[0],l=a[1],d=Object(u.useState)(!1),j=Object(i.a)(d,2),x=j[0],D=j[1],T=N(),k=Object(h.a)(),P=Object(w.a)();Object(u.useEffect)((function(){P.loaded&&!P.connected&&k.history.push("/")}),[P]);var S=Object(v.a)(),B=S.register,C=S.handleSubmit,M=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l("IPFS_UPLOAD"),console.log(t),a=Object(o.a)({},t,{image:x}),e.next=5,Object(y.b)(t.title,a);case 5:return n=e.sent,l("SUBMITTING_BLOCKCHAIN"),e.next=9,P.contracts.dao.methods.triggerSubmitProposal(n);case 9:l("SUBMITTED");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return console.log({status:n,allowance:P.daiAllowance,balance:P.daiBalance}),m.a.createElement(E.a,{className:T.root,title:"Whoop Together | Submit Proposal"},m.a.createElement(O.a,null),m.a.createElement(f.a,{variant:"h5",className:T.title},"Submit Proposal"),m.a.createElement("form",{onSubmit:C(M)},m.a.createElement(g.a,{fullWidth:!0,label:"Title",name:"title",variant:"outlined",inputRef:B({required:!0}),className:Object(p.a)(T.flexGrow,T.textField),required:!0}),m.a.createElement(g.a,{fullWidth:!0,label:"Description",name:"description",variant:"outlined",inputRef:B({required:!0}),className:Object(p.a)(T.flexGrow,T.textField),multiline:!0,rows:5,required:!0}),m.a.createElement(g.a,{fullWidth:!0,label:"Website",name:"website",variant:"outlined",inputRef:B({required:!0}),className:Object(p.a)(T.flexGrow,T.textField),required:!0}),m.a.createElement(g.a,{fullWidth:!0,label:"Team",name:"team",variant:"outlined",inputRef:B,className:Object(p.a)(T.flexGrow,T.textField),multiline:!0,rows:3}),m.a.createElement(f.a,{variant:"caption",display:"block"},"Logo"),m.a.createElement("input",{type:"file",onChange:function(){var e=document.getElementById("logoImg"),t=document.querySelector("input[type=file]").files[0],a=new FileReader;a.addEventListener("load",(function(){e.src=a.result,D(a.result)}),!1),t&&a.readAsDataURL(t)}}),m.a.createElement("img",{id:"logoImg",src:"",className:x?T.image:T.hiddenImage,height:"200",alt:"Image preview..."}),m.a.createElement(f.a,{variant:"body1",style:{marginTop:16}},"In order to submit a proposol you need to stake ",50," DAI."),m.a.createElement("div",{className:T.wrapper},m.a.createElement(b.a,{variant:"contained",color:"primary",className:T.button,disabled:P.daiAllowance>0,onClick:Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l("APPROVING_DAI"),e.next=3,P.contracts.dai.methods.triggerDaiApprove(new I(50));case 3:l("DAI_APPROVED");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()();case 2:case"end":return e.stop()}}),e)})))},"1. Allow 50 DAI"),"APPROVING_DAI"===n&&m.a.createElement(f.a,{variant:"body1",component:"span",className:T.statusMsg},"Allowing transferring of 50 DAI..."),("DAI_APPROVED"===n||P.daiAllowance>0)&&m.a.createElement(f.a,{variant:"body2",component:"span",className:T.statusMsg},"Allowance of 50 DAI complete!")),m.a.createElement("div",{className:T.wrapper},m.a.createElement(b.a,{variant:"contained",color:"primary",className:T.button,type:"submit",disabled:"DRAFT"!==n&&"DAI_APPROVED"!==n||0==P.daiAllowance||P.daiBalance<50},"2. Submit Proposal"),P.daiBalance<50&&m.a.createElement(f.a,{variant:"body2",component:"span",className:T.statusMsg,style:{color:"#FF9494"}},"You don't have enough DAI on your wallet"),"IPFS_UPLOAD"===n&&m.a.createElement(f.a,{variant:"body2",component:"span",className:T.statusMsg},"Uploading proposal to IPFS..."),"SUBMITTING_BLOCKCHAIN"===n&&m.a.createElement(f.a,{variant:"body2",component:"span",className:T.statusMsg},"Submitting proposal to the DAO..."),"SUBMITTED"===n&&m.a.createElement(f.a,{variant:"body2",component:"span",className:T.statusMsg},"Proposal submitted to the DAO successfully!")),"SUBMITTED"===n&&m.a.createElement("div",{className:T.divContainer,style:{marginTop:24,marginBottom:24,textAlign:"center"}},m.a.createElement(b.a,{color:"primary",size:"large",className:T.button,startIcon:m.a.createElement(A.a,null),onClick:function(){k.history.push("/proposals")}},"Vote"," "))))};a.d(t,"default",(function(){return x}))},1505:function(e,t,a){"use strict";var n=a(134);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),o=(0,n(a(413)).default)(r.default.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.default=o},2510:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),o=a(13),c=a(16),i=a(0),s=a.n(i),l=a(830),u=a(195),m=(a(91),a(1505)),p=a.n(m),d=a(2487),f=a(2498),b=(a(1498),a(107)),g=a(960),v=a.n(g);var h=a(1053),y=a.n(h),E=a(902),O=Object(l.a)((function(e){return{button:{margin:32,width:220}}})),w=function(){var e=O(),t=Object(u.a)(),a=t.connected,n=Object(b.a)(),l=Object(i.useState)(0),m=Object(c.a)(l,2),g=m[0],h=m[1];return function(e,t){var a=Object(i.useRef)();Object(i.useEffect)((function(){a.current=e}),[e]),Object(i.useEffect)((function(){if(null!==t){var e=setInterval((function(){a.current()}),t);return function(){return clearInterval(e)}}}),[t])}(Object(o.a)(r.a.mark((function e(){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,t.contracts.dao.methods.getInterest();case 3:a=e.sent,console.log({interest:a}),h(a);case 6:case"end":return e.stop()}}),e)}))),2e3),s.a.createElement(s.a.Fragment,null,s.a.createElement(E.a,null),s.a.createElement(d.a,{variant:"body1",style:{fontSize:24}},"Every two weeks, the preferred project of the community will receive"," ",s.a.createElement("span",{style:{fontSize:28,fontWeight:"bold",color:"#A362A5"}},"$",g,"!")),s.a.createElement("div",{className:e.divContainer,style:{marginTop:32,marginBottom:32,textAlign:"center"}},s.a.createElement(f.a,{variant:"contained",color:"primary",size:"large",className:e.button,startIcon:s.a.createElement(p.a,null),onClick:function(){a?n.history.push("/submit-proposal"):function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.triggerConnect();case 2:n.history.push("/submit-proposal");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}},"Submit Proposal"),s.a.createElement(f.a,{variant:"contained",color:"secondary",size:"large",className:e.button,startIcon:s.a.createElement(y.a,null),onClick:function(){n.history.push("/deposit")}},"Join Pool")),s.a.createElement("div",{className:e.divContainer,style:{marginTop:32,marginBottom:32,textAlign:"center"}},s.a.createElement(f.a,{color:"primary",size:"large",className:e.button,startIcon:s.a.createElement(v.a,null),onClick:function(){a?n.history.push("/proposals"):function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.triggerConnect();case 2:n.history.push("/submit-proposal");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}},"Vote")))};a.d(t,"default",(function(){return w}))},902:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(2487),c=a(107),i=function(e){var t=Object(c.a)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{marginBottom:16}},r.a.createElement(o.a,{gutterBottom:!0,variant:"h4",style:{marginTop:16,cursor:"pointer"},onClick:function(){t.history.push("/")}},"WhoopTogether"),r.a.createElement(o.a,{variant:"body1",style:{marginTop:16}},"Deposit your DAI. Let your idle interest support community projects. Vote DAO style on twitter for your favourite project every 2 weeks. Interest from the pool is sent to the chosen community project for 2 weeks if selected by the DAO. Withdraw your original DAI at anytime.")))};a.d(t,"a",(function(){return i}))}}]);
//# sourceMappingURL=7.03f00d73.chunk.js.map